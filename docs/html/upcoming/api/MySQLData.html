

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>CRUDlex\MySQLData &mdash; CRUDlex 0.15.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="CRUDlex 0.15.0 documentation" href="../index.html"/>
        <link rel="up" title="CRUDlex\AbstractData" href="AbstractData.html"/>
        <link rel="next" title="CRUDlex\ControllerInterface" href="ControllerInterface.html"/>
        <link rel="prev" title="CRUDlex\AbstractData" href="AbstractData.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> CRUDlex
          

          
          </a>

          
            
            
              <div class="version">
                0.15.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../manual/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/datastructures.html">Data Structure Definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/datatypes.html">Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/constraints.html">Constraints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/filehandling.html">File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/layouts.html">Overriding Layouts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/templates.html">Overriding Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/events.html">Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/optimisticlocking.html">Optimistic Locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/definitionvalidation.html">Definition Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/routes.html">Routes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/extendedfeatures.html">Extended Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/addons.html">Addons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/crudyamlreference.html">CRUD YAML Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="AbstractData.html">CRUDlex\AbstractData</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">CRUDlex\MySQLData</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ControllerInterface.html">CRUDlex\ControllerInterface</a></li>
<li class="toctree-l1"><a class="reference internal" href="DataFactoryInterface.html">CRUDlex\DataFactoryInterface</a></li>
<li class="toctree-l1"><a class="reference internal" href="Entity.html">CRUDlex\Entity</a></li>
<li class="toctree-l1"><a class="reference internal" href="EntityDefinition.html">CRUDlex\EntityDefinition</a></li>
<li class="toctree-l1"><a class="reference internal" href="EntityDefinitionFactoryInterface.html">CRUDlex\EntityDefinitionFactoryInterface</a></li>
<li class="toctree-l1"><a class="reference internal" href="EntityDefinitionValidatorInterface.html">CRUDlex\EntityDefinitionValidatorInterface</a></li>
<li class="toctree-l1"><a class="reference internal" href="EntityEvents.html">CRUDlex\EntityEvents</a></li>
<li class="toctree-l1"><a class="reference internal" href="EntityValidator.html">CRUDlex\EntityValidator</a></li>
<li class="toctree-l1"><a class="reference internal" href="FileHandler.html">CRUDlex\FileHandler</a></li>
<li class="toctree-l1"><a class="reference internal" href="ManyValidator.html">CRUDlex\ManyValidator</a></li>
<li class="toctree-l1"><a class="reference internal" href="ReferenceValidator.html">CRUDlex\ReferenceValidator</a></li>
<li class="toctree-l1"><a class="reference internal" href="Service.html">CRUDlex\Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="StreamedFileResponse.html">CRUDlex\StreamedFileResponse</a></li>
<li class="toctree-l1"><a class="reference internal" href="TwigExtensions.html">CRUDlex\TwigExtensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="UniqueValidator.html">CRUDlex\UniqueValidator</a></li>
<li class="toctree-l1"><a class="reference internal" href="YamlReader.html">CRUDlex\YamlReader</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">CRUDlex</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="AbstractData.html">CRUDlex\AbstractData</a> &raquo;</li>
      
    <li>CRUDlex\MySQLData</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/MySQLData.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="crudlex-mysqldata">
<h1>CRUDlex\MySQLData<a class="headerlink" href="#crudlex-mysqldata" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="MySQLData">
<em class="property">class </em><code class="descname">MySQLData</code><a class="headerlink" href="#MySQLData" title="Permalink to this definition">¶</a></dt>
<dd><p>MySQL Data implementation using a given Doctrine DBAL instance.</p>
<dl class="const">
<dt id="MySQLData::DELETION_SUCCESS">
<em class="property">constant </em><code class="descname">DELETION_SUCCESS</code><a class="headerlink" href="#MySQLData::DELETION_SUCCESS" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value on successful deletion.</p>
</dd></dl>

<dl class="const">
<dt id="MySQLData::DELETION_FAILED_STILL_REFERENCED">
<em class="property">constant </em><code class="descname">DELETION_FAILED_STILL_REFERENCED</code><a class="headerlink" href="#MySQLData::DELETION_FAILED_STILL_REFERENCED" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value on failed deletion due to existing references.</p>
</dd></dl>

<dl class="const">
<dt id="MySQLData::DELETION_FAILED_EVENT">
<em class="property">constant </em><code class="descname">DELETION_FAILED_EVENT</code><a class="headerlink" href="#MySQLData::DELETION_FAILED_EVENT" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value on failed deletion due to a failed before delete event.</p>
</dd></dl>

<dl class="attr">
<dt id="MySQLData::$database">
<em class="property">property </em><code class="descname">database</code><a class="headerlink" href="#MySQLData::$database" title="Permalink to this definition">¶</a></dt>
<dd><p>protected Connection</p>
<p>Holds the Doctrine DBAL instance.</p>
</dd></dl>

<dl class="attr">
<dt id="MySQLData::$useUUIDs">
<em class="property">property </em><code class="descname">useUUIDs</code><a class="headerlink" href="#MySQLData::$useUUIDs" title="Permalink to this definition">¶</a></dt>
<dd><p>protected bool</p>
<p>Flag whether to use UUIDs as primary key.</p>
</dd></dl>

<dl class="attr">
<dt id="MySQLData::$definition">
<em class="property">property </em><code class="descname">definition</code><a class="headerlink" href="#MySQLData::$definition" title="Permalink to this definition">¶</a></dt>
<dd><p>protected EntityDefinition</p>
<p>Holds the entity definition.</p>
</dd></dl>

<dl class="attr">
<dt id="MySQLData::$filesystem">
<em class="property">property </em><code class="descname">filesystem</code><a class="headerlink" href="#MySQLData::$filesystem" title="Permalink to this definition">¶</a></dt>
<dd><p>protected FilesystemInterface</p>
<p>Holds the filesystem.</p>
</dd></dl>

<dl class="attr">
<dt id="MySQLData::$events">
<em class="property">property </em><code class="descname">events</code><a class="headerlink" href="#MySQLData::$events" title="Permalink to this definition">¶</a></dt>
<dd><p>protected EntityEvents</p>
<p>Holds the events.</p>
</dd></dl>

<dl class="method">
<dt id="MySQLData::addSoftDeletionToQuery">
<code class="descname">addSoftDeletionToQuery</code><span class="sig-paren">(</span><em>EntityDefinition $definition</em>, <em>QueryBuilder $queryBuilder</em>, <em>$fieldPrefix = ''</em>, <em>$method = 'andWhere'</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::addSoftDeletionToQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the soft deletion parameters if activated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$definition</strong> (<a class="reference internal" href="EntityDefinition.html#EntityDefinition" title="EntityDefinition"><em>EntityDefinition</em></a>) – the entity definition which might have soft deletion activated</li>
<li><strong>$queryBuilder</strong> (<em>QueryBuilder</em>) – the query builder to add the deletion condition to</li>
<li><strong>$fieldPrefix</strong> (<em>string</em>) – the prefix to add before the deleted_at field like an table alias</li>
<li><strong>$method</strong> (<em>string</em>) – the method to use of the query builder, “where” or “andWhere”</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::setValuesAndParameters">
<code class="descname">setValuesAndParameters</code><span class="sig-paren">(</span><em>Entity $entity</em>, <em>QueryBuilder $queryBuilder</em>, <em>$setMethod</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::setValuesAndParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the values and parameters of the upcoming given query according
to the entity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$entity</strong> (<a class="reference internal" href="Entity.html#Entity" title="Entity"><em>Entity</em></a>) – the entity with its fields and values</li>
<li><strong>$queryBuilder</strong> (<em>QueryBuilder</em>) – the upcoming query</li>
<li><strong>$setMethod</strong> (<em>string</em>) – what method to use on the QueryBuilder: ‘setValue’ or ‘set’</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::hasChildren">
<code class="descname">hasChildren</code><span class="sig-paren">(</span><em>$id</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::hasChildren" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the by id given entity still has children referencing it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$id</strong> (<em>integer</em>) – the current entities id</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">boolean true if the entity still has children</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::deleteManyToManyReferences">
<code class="descname">deleteManyToManyReferences</code><span class="sig-paren">(</span><em>Entity $entity</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::deleteManyToManyReferences" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes any many to many references pointing to the given entity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$entity</strong> (<a class="reference internal" href="Entity.html#Entity" title="Entity"><em>Entity</em></a>) – the referenced entity</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::doDelete">
<code class="descname">doDelete</code><span class="sig-paren">(</span><em>Entity $entity</em>, <em>$deleteCascade</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::doDelete" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="mailto:{&#37;&#52;&#48;inheritdoc">{<span>&#64;</span>inheritdoc</a>}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$entity</strong> (<a class="reference internal" href="Entity.html#Entity" title="Entity"><em>Entity</em></a>) – </li>
<li><strong>$deleteCascade</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::getManyIds">
<code class="descname">getManyIds</code><span class="sig-paren">(</span><em>$fields</em>, <em>$params</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::getManyIds" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all possible many-to-many ids existing for this definition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$fields</strong> (<em>array</em>) – the many field names to fetch for</li>
<li><strong>$params</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">array an array of this many-to-many ids</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::addFilter">
<code class="descname">addFilter</code><span class="sig-paren">(</span><em>QueryBuilder $queryBuilder</em>, <em>$filter</em>, <em>$filterOperators</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::addFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds sorting parameters to the query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$queryBuilder</strong> (<em>QueryBuilder</em>) – the query</li>
<li><strong>$filter</strong> – </li>
<li><strong>$filterOperators</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::addPagination">
<code class="descname">addPagination</code><span class="sig-paren">(</span><em>QueryBuilder $queryBuilder</em>, <em>$skip</em>, <em>$amount</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::addPagination" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds pagination parameters to the query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$queryBuilder</strong> (<em>QueryBuilder</em>) – the query</li>
<li><strong>$skip</strong> (<em>integer|null</em>) – the rows to skip</li>
<li><strong>$amount</strong> (<em>integer|null</em>) – the maximum amount of rows</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::addSort">
<code class="descname">addSort</code><span class="sig-paren">(</span><em>QueryBuilder $queryBuilder</em>, <em>$sortField</em>, <em>$sortAscending</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::addSort" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds sorting parameters to the query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$queryBuilder</strong> (<em>QueryBuilder</em>) – the query</li>
<li><strong>$sortField</strong> (<em>string|null</em>) – the sort field</li>
<li><strong>$sortAscending</strong> (<em>boolean|null</em>) – true if sort ascending, false if descending</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::fetchReferencesForField">
<code class="descname">fetchReferencesForField</code><span class="sig-paren">(</span><em>$entities</em>, <em>$field</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::fetchReferencesForField" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the id and name of referenced entities to the given entities. The
reference field is before the raw id of the referenced entity and after
the fetch, it’s an array with the keys id and name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$entities</strong> – </li>
<li><strong>$field</strong> (<em>string</em>) – the reference field</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::generateUUID">
<code class="descname">generateUUID</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::generateUUID" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a new UUID.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">string|null the new UUID or null if this instance isn’t configured to do so</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::enrichWithManyField">
<code class="descname">enrichWithManyField</code><span class="sig-paren">(</span><em>$idToData</em>, <em>$manyField</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::enrichWithManyField" title="Permalink to this definition">¶</a></dt>
<dd><p>Enriches the given mapping of entity id to raw entity data with some
many-to-many data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$idToData</strong> (<em>array</em>) – a reference to the map entity id to raw entity data</li>
<li><strong>$manyField</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::enrichWithMany">
<code class="descname">enrichWithMany</code><span class="sig-paren">(</span><em>$rows</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::enrichWithMany" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches to the rows belonging many-to-many entries and adds them to the
rows.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$rows</strong> (<em>array</em>) – the rows to enrich</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">array the enriched rows</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::saveMany">
<code class="descname">saveMany</code><span class="sig-paren">(</span><em>Entity $entity</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::saveMany" title="Permalink to this definition">¶</a></dt>
<dd><p>First, deletes all to the given entity related many-to-many entries from
the DB
and then writes them again.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$entity</strong> (<a class="reference internal" href="Entity.html#Entity" title="Entity"><em>Entity</em></a>) – the entity to save the many-to-many entries of</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::enrichWithReference">
<code class="descname">enrichWithReference</code><span class="sig-paren">(</span><em>$entities</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::enrichWithReference" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the id and name of referenced entities to the given entities. Each
reference field is before the raw id of the referenced entity and after
the fetch, it’s an array with the keys id and name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$entities</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::doCreate">
<code class="descname">doCreate</code><span class="sig-paren">(</span><em>Entity $entity</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::doCreate" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="mailto:{&#37;&#52;&#48;inheritdoc">{<span>&#64;</span>inheritdoc</a>}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$entity</strong> (<a class="reference internal" href="Entity.html#Entity" title="Entity"><em>Entity</em></a>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::doUpdate">
<code class="descname">doUpdate</code><span class="sig-paren">(</span><em>Entity $entity</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::doUpdate" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="mailto:{&#37;&#52;&#48;inheritdoc">{<span>&#64;</span>inheritdoc</a>}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$entity</strong> (<a class="reference internal" href="Entity.html#Entity" title="Entity"><em>Entity</em></a>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::__construct">
<code class="descname">__construct</code><span class="sig-paren">(</span><em>EntityDefinition $definition</em>, <em>FilesystemInterface $filesystem</em>, <em>Connection $database</em>, <em>$useUUIDs</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::__construct" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$definition</strong> (<a class="reference internal" href="EntityDefinition.html#EntityDefinition" title="EntityDefinition"><em>EntityDefinition</em></a>) – the entity definition</li>
<li><strong>$filesystem</strong> (<em>FilesystemInterface</em>) – the filesystem to use</li>
<li><strong>$database</strong> (<em>Connection</em>) – the Doctrine DBAL instance to use</li>
<li><strong>$useUUIDs</strong> (<em>boolean</em>) – flag whether to use UUIDs as primary key</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::get">
<code class="descname">get</code><span class="sig-paren">(</span><em>$id</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::get" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="mailto:{&#37;&#52;&#48;inheritdoc">{<span>&#64;</span>inheritdoc</a>}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$id</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::listEntries">
<code class="descname">listEntries</code><span class="sig-paren">(</span><em>$filter = []</em>, <em>$filterOperators = []</em>, <em>$skip = null</em>, <em>$amount = null</em>, <em>$sortField = null</em>, <em>$sortAscending = null</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::listEntries" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="mailto:{&#37;&#52;&#48;inheritdoc">{<span>&#64;</span>inheritdoc</a>}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$filter</strong> – </li>
<li><strong>$filterOperators</strong> – </li>
<li><strong>$skip</strong> – </li>
<li><strong>$amount</strong> – </li>
<li><strong>$sortField</strong> – </li>
<li><strong>$sortAscending</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::getIdToNameMap">
<code class="descname">getIdToNameMap</code><span class="sig-paren">(</span><em>$entity</em>, <em>$nameField</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::getIdToNameMap" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="mailto:{&#37;&#52;&#48;inheritdoc">{<span>&#64;</span>inheritdoc</a>}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$entity</strong> – </li>
<li><strong>$nameField</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::countBy">
<code class="descname">countBy</code><span class="sig-paren">(</span><em>$table</em>, <em>$params</em>, <em>$paramsOperators</em>, <em>$excludeDeleted</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::countBy" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="mailto:{&#37;&#52;&#48;inheritdoc">{<span>&#64;</span>inheritdoc</a>}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$table</strong> – </li>
<li><strong>$params</strong> – </li>
<li><strong>$paramsOperators</strong> – </li>
<li><strong>$excludeDeleted</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::hasManySet">
<code class="descname">hasManySet</code><span class="sig-paren">(</span><em>$field</em>, <em>$thatIds</em>, <em>$excludeId = null</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::hasManySet" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="mailto:{&#37;&#52;&#48;inheritdoc">{<span>&#64;</span>inheritdoc</a>}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$field</strong> – </li>
<li><strong>$thatIds</strong> – </li>
<li><strong>$excludeId</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::hydrate">
<code class="descname">hydrate</code><span class="sig-paren">(</span><em>$row</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::hydrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an Entity from the raw data array with the field name
as keys and field values as values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$row</strong> (<em>array</em>) – the array with the raw data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Entity the entity containing the array data then</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::enrichEntityWithMetaData">
<code class="descname">enrichEntityWithMetaData</code><span class="sig-paren">(</span><em>$id</em>, <em>Entity $entity</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::enrichEntityWithMetaData" title="Permalink to this definition">¶</a></dt>
<dd><p>Enriches an entity with metadata:
id, version, created_at, updated_at</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$id</strong> (<em>mixed</em>) – the id of the entity to enrich</li>
<li><strong>$entity</strong> (<a class="reference internal" href="Entity.html#Entity" title="Entity"><em>Entity</em></a>) – the entity to enrich</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::getManyFields">
<code class="descname">getManyFields</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::getManyFields" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the many-to-many fields.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">array|string[] the many-to-many fields</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::getFormFields">
<code class="descname">getFormFields</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::getFormFields" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all form fields including the many-to-many-ones.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">array all form fields</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::deleteChildren">
<code class="descname">deleteChildren</code><span class="sig-paren">(</span><em>$id</em>, <em>$deleteCascade</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::deleteChildren" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs the cascading children deletion.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$id</strong> (<em>integer</em>) – the current entities id</li>
<li><strong>$deleteCascade</strong> (<em>boolean</em>) – whether to delete children and sub children</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">integer returns one of: - AbstractData::DELETION_SUCCESS -&gt; successful deletion - AbstractData::DELETION_FAILED_STILL_REFERENCED -&gt; failed deletion due to existing references - AbstractData::DELETION_FAILED_EVENT -&gt; failed deletion due to a failed before delete event</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::getReferenceIds">
<code class="descname">getReferenceIds</code><span class="sig-paren">(</span><em>$entities</em>, <em>$field</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::getReferenceIds" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets an array of reference ids for the given entities.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$entities</strong> (<em>array</em>) – the entities to extract the ids</li>
<li><strong>$field</strong> (<em>string</em>) – the reference field</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">array the extracted ids</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::getEvents">
<code class="descname">getEvents</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::getEvents" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the events instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">EntityEvents the events instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::create">
<code class="descname">create</code><span class="sig-paren">(</span><em>Entity $entity</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::create" title="Permalink to this definition">¶</a></dt>
<dd><p>Persists the given entity as new entry in the datasource.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$entity</strong> (<a class="reference internal" href="Entity.html#Entity" title="Entity"><em>Entity</em></a>) – the entity to persist</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">boolean true on successful creation</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::update">
<code class="descname">update</code><span class="sig-paren">(</span><em>Entity $entity</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates an existing entry in the datasource having the same id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$entity</strong> (<a class="reference internal" href="Entity.html#Entity" title="Entity"><em>Entity</em></a>) – the entity with the new data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">boolean true on successful update</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>$entity</em><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes an entry from the datasource.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$entity</strong> (<a class="reference internal" href="Entity.html#Entity" title="Entity"><em>Entity</em></a>) – the entity to delete</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">integer returns one of: - AbstractData::DELETION_SUCCESS -&gt; successful deletion - AbstractData::DELETION_FAILED_STILL_REFERENCED -&gt; failed deletion due to existing references - AbstractData::DELETION_FAILED_EVENT -&gt; failed deletion due to a failed before delete event</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::getDefinition">
<code class="descname">getDefinition</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::getDefinition" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the EntityDefinition instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">EntityDefinition the definition instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MySQLData::createEmpty">
<code class="descname">createEmpty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#MySQLData::createEmpty" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new, empty entity instance having all fields prefilled with
null or the defined value in case of fixed fields.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Entity the newly created entity</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ControllerInterface.html" class="btn btn-neutral float-right" title="CRUDlex\ControllerInterface" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="AbstractData.html" class="btn btn-neutral" title="CRUDlex\AbstractData" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Philip Lehmann-Böhm.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.15.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>